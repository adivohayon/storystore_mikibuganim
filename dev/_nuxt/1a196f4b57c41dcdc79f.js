(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{306:function(e,t,r){"use strict";r(94),r(95),r(36),r(37),r(22),r(21);var s=r(1),n=r.n(s),a=r(340),o=r(308),i=r(305),l=(r(307),r(43)),u=r.n(l),c=r(371),h=r.n(c),f=(r(45),r(300)),g=r(59),v={components:{Stories:a.a,Story:o.a,ShelfInfo:i.a},beforeCreate:function(){var e=n()(regeneratorRuntime.mark(function e(){var t,r,s,n,a,o,i,l,c,f,v,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("store/get");case 2:for(e.sent,t=g.a.firstCategory,r=g.a.subCategories,s=g.a.restOfCategories,t.shelves=[],n=u()(this.$store,"state.store.shelves",[]),console.log("shelves",n),a=!0,o=!1,i=void 0,e.prev=10,l=n[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){for(f=c.value,(v=f.Categories.map(function(e){return e.id})).includes(t.id)&&t.shelves.push(f),p=0;p<r.length;p++)v.includes(r[p].id)&&(r[p].shelves?r[p].shelves.push(f):r[p].shelves=[f]);for(d=0;d<s.length;d++)v.includes(s[d].id)&&(s[d].shelves?s[d].shelves.push(f):s[d].shelves=[f])}e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),o=!0,i=e.t0;case 18:e.prev=18,e.prev=19,a||null==l.return||l.return();case 21:if(e.prev=21,!o){e.next=24;break}throw i;case 24:return e.finish(21);case 25:return e.finish(18);case 26:console.log("restOfCategories",s),this.firstCategory=t,this.subCategories=h()(r,function(e){return e.shelves.length}).reverse(),this.restOfCategories=h()(s,function(e){return e.shelves&&e.shelves.length}).reverse();case 30:case"end":return e.stop()}},e,this,[[10,14,18,26],[19,,21,25]])}));return function(){return e.apply(this,arguments)}}(),mixins:[f.b],layout:function(e){return e.app.isMobile?"mobile":"desktop"},data:function(){return{currentStoryIndex:0,firstCategory:null,subCategories:[],restOfCategories:[]}},mounted:function(){var e=n()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.handleCartIntegration()}catch(e){console.error("Category Page / created() / Error",e)}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),computed:{storeSlug:function(){return this.$store.state.store.slug},banner:function(){return this.assetsPath+"banner.png"},assetsPath:function(){var e="/";return e+="".concat(this.storeSlug,"/")},stateShelves:function(){return this.$store.state.store.shelves||[]},cartIntegration:function(){return this.$store.getters["cart/integration"]},shelfInfo:function(){return u()(this.$store.state,"store.shelfInfo",null)},shippingDetails:function(){return this.$store.state.store.shippingDetails},returns:function(){return this.$store.state.store.returns},showShelfInfo:function(){return this.$store.state.showShelfInfo}},methods:{handleCartIntegration:function(){var e=n()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("cart/get");case 3:t=e.sent,console.log("cart",t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Category Page / handleCartIntegration / Error",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),setStoryIndex:function(e){this.currentStoryIndex=e}}};t.a=v},372:function(e,t,r){var s=r(438);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,r(13).default)("42a27fcd",s,!1,{})},437:function(e,t,r){"use strict";var s=r(372);r.n(s).a},438:function(e,t,r){(e.exports=r(12)(!1)).push([e.i,".category-page[data-v-232df694] {\n  background-color: white;\n}\n.category-page__banner img[data-v-232df694] {\n    display: block;\n    width: 100%;\n    height: auto;\n}\n.category-page h2[data-v-232df694] {\n    text-align: center;\n    padding: 2rem;\n    font-size: 2rem;\n}\n",""])},455:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page category-page"},[e.firstCategory&&e.firstCategory.shelves.length>0?r("div",[r("h2",{staticClass:"no-text-select"},[e._v(e._s(e.firstCategory.label))]),e._v(" "),r("stories",{attrs:{stories:e.firstCategory.shelves,title:e.firstCategory.label}})],1):e._e(),e._v(" "),e._l(e.subCategories,function(t,s){return t&&t.shelves&&t.shelves.length>0?r("div",{key:s},[r("h2",{staticClass:"no-text-select"},[e._v(e._s(t.label))]),e._v(" "),r("stories",{attrs:{stories:t.shelves,title:t.label}})],1):e._e()}),e._v(" "),e._l(e.restOfCategories,function(t,s){return t&&t.shelves&&t.shelves.length>0?r("div",{key:s},[r("h2",{staticClass:"no-text-select"},[e._v(e._s(t.label))]),e._v(" "),r("stories",{attrs:{stories:t.shelves,title:t.label}})],1):e._e()}),e._v(" "),r("transition",{attrs:{name:"modal-fade"}},[e.showShelfInfo?r("shelf-info",{attrs:{info:e.shelfInfo,returns:e.returns,shipping:e.shippingDetails}}):e._e()],1)],2)};s._withStripped=!0;var n=r(306),a=(r(437),r(6)),o=Object(a.a)(n.a,s,[],!1,null,"232df694",null);o.options.__file="index.vue";t.default=o.exports}}]);