(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{357:function(n,e,t){"use strict";t.d(e,"a",function(){return o});var o=function(n){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)}},358:function(n,e,t){var o=t(411);"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);(0,t(13).default)("4cf25bcb",o,!1,{})},359:function(n,e,t){var o=t(414);"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);(0,t(13).default)("707f7ef5",o,!1,{})},410:function(n,e,t){"use strict";var o=t(358);t.n(o).a},411:function(n,e,t){(n.exports=t(12)(!1)).push([n.i,".checkout-response__container[data-v-1a332717] {\n  border-top-right-radius: 1rem;\n  border-top-left-radius: 1rem;\n  position: relative;\n  padding: 1rem 0.7rem;\n  background-color: rgba(240, 240, 240, 0.95);\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  z-index: 50;\n  height: 70vh;\n  width: 100%;\n  color: #535353;\n}\n.checkout-response__container .btn--close[data-v-1a332717] {\n    position: absolute;\n    top: 1rem;\n    left: 1rem;\n    outline: none;\n    border: none;\n    background: none;\n}\n.checkout-response__container .header[data-v-1a332717] {\n    display: flex;\n    margin-top: 2rem;\n    padding: 0 0.9rem;\n}\n.checkout-response__container .header h2[data-v-1a332717] {\n      font-size: 1.6rem;\n      line-height: 1.4;\n}\n.checkout-response__container .header h2.success[data-v-1a332717] {\n        color: #51a152;\n}\n.checkout-response__container .header h2.error[data-v-1a332717] {\n        color: #c61e42;\n}\n.checkout-response__container .header .icon-round[data-v-1a332717] {\n      margin-left: 0.7rem;\n}\n.checkout-response__container .header .icon-round .svg-icon[data-v-1a332717] {\n        position: absolute;\n        top: 0.55rem;\n        left: 0.55rem;\n}\n.checkout-response__container .header .icon-round .svg-fill[data-v-1a332717] {\n        stroke: white;\n        fill: none;\n}\n.checkout-response__container .header .icon--error[data-v-1a332717] {\n      background-color: #c61e42;\n}\n.checkout-response__container .header .icon--error .svg-fill[data-v-1a332717] {\n        fill: #fff;\n}\n.checkout-response__container .header .icon--success[data-v-1a332717] {\n      background-color: #51a152;\n}\n.checkout-response__message[data-v-1a332717] {\n  margin-top: 1rem;\n  padding: 0 3.4rem;\n  font-size: 1.1rem;\n  line-height: 1.8;\n}\n.checkout-response__message--success[data-v-1a332717] {\n    margin-top: 0.5rem;\n}\n.checkout-response__message--success .order-number[data-v-1a332717] {\n      font-weight: bold;\n}\n.checkout-response__message--success .success-image[data-v-1a332717] {\n      position: absolute;\n      left: 5rem;\n      bottom: 6rem;\n}\n.checkout-response__message--success .success-image .svg-icon[data-v-1a332717] {\n        width: 9rem;\n        height: auto;\n}\n.checkout-response__message--error[data-v-1a332717] {\n    display: inline-block;\n}\n.checkout-response__message--error a[data-v-1a332717] {\n      text-decoration: none;\n      color: #0068ce;\n}\n.slide-from-bottom-enter-active[data-v-1a332717], .slide-from-bottom-leave-active[data-v-1a332717] {\n  transition: bottom 0.6s;\n}\n.slide-from-bottom-enter[data-v-1a332717], .slide-from-bottom-leave-to[data-v-1a332717] {\n  bottom: -70vh;\n}\n",""])},412:function(n,e,t){n.exports=function(n){function e(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var t={};return e.m=n,e.c=t,e.i=function(n){return n},e.d=function(n,t,o){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:o})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=0)}([function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};e.default=function(n,e){function t(n,e){var t=n,o=void 0;return o=null!==C[e]?t-C[e]:0,C[e]=t,_&&clearTimeout(_),_=setTimeout(function(){C[e]=null},50),o}function a(n){S=n===document?document.body:n,n.style.overflow="auto",n.style.webkitOverflowScrolling="auto",n.addEventListener("scroll",c,!1),function(n){n.snapLengthUnit=function(n){var e={y:{value:0,unit:"px"},x:{value:0,unit:"px"}},t=void 0;return null!==(t=/(\d+)(px|%|vw) (\d+)(px|%|vh)/g.exec(n))&&(e.x={value:t[1],unit:t[2]},e.y={value:t[3],unit:t[4]}),e}(g)}(S)}function c(){k=t(S.scrollLeft,"x"),N=t(S.scrollTop,"y"),w||0===k&&0===N||(E=function(n){return n===document||n===window?document.documentElement.scrollTop>0||document.documentElement.scrollLeft>0?document.documentElement:document.querySelector("body"):n}(T=S),$&&(window.cancelAnimationFrame($)||clearTimeout($)),y?clearTimeout(y):x={y:E.scrollTop,x:E.scrollLeft},y=setTimeout(l,m))}function l(){if(x.y!==E.scrollTop||x.x!==E.scrollLeft){var n={y:N>0?1:-1,x:k>0?1:-1},e=void 0;e=function(n,e,t){var o={y:u(t.y,f(e,e.snapLengthUnit.y)),x:u(t.x,h(e,e.snapLengthUnit.x))},r=n.scrollTop,i=n.scrollLeft,s={y:r/o.y||1,x:i/o.x||1},a={y:0,x:0};a.y=u(t.y,s.y),a.x=u(t.x,s.x);var c={y:a.y*o.y,x:a.x*o.x};return c.y=d(0,n.scrollHeight,c.y),c.x=d(0,n.scrollWidth,c.x),c}(E,T,n),T.removeEventListener("scroll",c,!1),w=!0,function(n,e,t){var o={y:n.scrollTop,x:n.scrollLeft},r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(n){window.setTimeout(n,15)},i=function(n,e){return 0===n.x&&0===N||0===n.y&&0===k}(o)?0:v,s=null;$=r(function a(c){s||(s=c);var l=c-s;if(isNaN(e.y)||(n.scrollTop=p(o.y,e.y,l,i)),isNaN(e.x)||(n.scrollLeft=p(o.x,e.x,l,i)),l<i)r(a);else if("function"==typeof t)return t(e)})}(E,e,function(){w=!1,T.addEventListener("scroll",c,!1),b()}),isNaN(e.x||!isNaN(e.y))||(x=e)}}function u(n,e){return-1===n?Math.floor(e):Math.ceil(e)}function d(n,e,t){return Math.max(Math.min(t,e),n)}function f(n,e){return"vh"===e.unit?Math.max(document.documentElement.clientHeight,window.innerHeight||1)/100*e.value:"%"===e.unit?n.offsetHeight/100*e.value:n.offsetHeight/e.value}function h(n,e){return"vw"===e.unit?Math.max(document.documentElement.clientWidth,window.innerWidth||1)/100*e.value:"%"===e.unit?n.offsetWidth/100*e.value:n.offsetWidth/e.value}function p(n,e,t,o){return t>o?e:function(n,e,t,o){return t*(n/=o)*n*n+e}(t,n,e-n,o)}if(e.scrollTimeout&&(isNaN(e.scrollTimeout)||"boolean"==typeof e.scrollTimeout))throw new Error("Optional config property 'scrollTimeout' is not valid, expected NUMBER but found "+o(e.scrollTimeout).toUpperCase());var m=e.scrollTimeout||r;if(e.scrollTime&&(isNaN(e.scrollTime)||"boolean"==typeof e.scrollTime))throw new Error("Optional config property 'scrollTime' is not valid, expected NUMBER but found "+o(e.scrollTime).toUpperCase());var v=e.scrollTime||i;if(!e.scrollSnapDestination)throw new Error("Required config property scrollSnapDestination is not defined");var g=e.scrollSnapDestination,b=void 0,y=null,x=null,w=!1,_=0,k=void 0,N=void 0,S=void 0,T=void 0,E=void 0,C={x:null,y:null},$=null;return this.bind=function(e){b="function"==typeof e?e:s,a(n)},this.unbind=function(){!function(n){n.style.webkitOverflowScrolling=null,n.removeEventListener("scroll",c,!1)}(n)},this};var r=300,i=2,s=function(){}}])},413:function(n,e,t){"use strict";var o=t(359);t.n(o).a},414:function(n,e,t){(n.exports=t(12)(!1)).push([n.i,"body {\n  color: #ffffff;\n}\nh6 {\n  font-weight: bold;\n  font-size: 0.8rem;\n}\n.btn {\n  outline: none;\n  border: none;\n}\n.btn--pill {\n    border-radius: 1.5rem;\n    height: 2.1rem;\n    width: auto;\n    padding: 0 0.4rem;\n    min-width: 2.1rem;\n    font-weight: bold;\n    color: #474747;\n}\n.btn--round {\n    border-radius: 50%;\n    height: 2.1rem;\n    width: 2.1rem;\n    line-height: 1;\n    padding: 0;\n}\n.chevron {\n  border-style: solid;\n  border-width: 0.25em 0.25em 0 0;\n  content: '';\n  display: inline-block;\n  height: 0.5rem;\n  align-self: center;\n  margin-right: 0.3rem;\n  -webkit-transform: rotate(-45deg);\n          transform: rotate(-45deg);\n  vertical-align: top;\n  width: 0.5rem;\n}\n.close {\n  width: 2rem;\n  height: 2rem;\n  position: relative;\n  border: none;\n  outline: none;\n}\n.close:after {\n    content: '';\n    height: 25px;\n    border-left: 3px solid white;\n    position: absolute;\n    -webkit-transform: rotate(45deg);\n            transform: rotate(45deg);\n}\n.close:before {\n    content: '';\n    height: 25px;\n    border-left: 3px solid white;\n    position: absolute;\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg);\n}\n\n/* Ripple effect */\n.ripple {\n  background-position: center;\n  transition: background-color 0.8s;\n}\n.ripple:hover {\n  background: #ffffff radial-gradient(circle, transparent 1%, #ffffff 1%) center/15000%;\n}\n.ripple:active {\n  background-color: red;\n  background-size: 100%;\n  transition: background-color 0s;\n}\n.fixed-top {\n  position: fixed;\n  top: 0;\n  width: 100%;\n  background-color: #ffffff;\n  z-index: 10;\n}\n.fixed-top .top-header {\n    height: 3.2rem;\n    border-bottom: 1px solid #d0d0d0;\n}\n.fixed-top .navigation {\n    height: 4.5rem;\n    overflow: hidden;\n}\n.shelf {\n  /********************************\n\tSwiper\n*********************************/\n  /********************************\n\t/Swiper\n*********************************/\n  /********************************\n\tVariants\n*********************************/\n  /********************************\n/Variants\n*********************************/\n  /********************************\n\tFooter\n*********************************/\n}\n.shelf .swiper-pagination-bullet {\n    border: 1px solid #ffffff;\n    background-color: transparent;\n    margin: 0 0.3rem;\n    opacity: 1;\n    width: 9px;\n    height: 9px;\n}\n.shelf .swiper-pagination-bullet-active {\n      background-color: #ffffff;\n}\n\n/* recommended css code for vue-svgicon */\n.svg-icon {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  color: inherit;\n  vertical-align: middle;\n  fill: none;\n  stroke: currentColor;\n}\n.icon-round {\n  background-color: #C61E42;\n  border-radius: 50%;\n  height: 2rem;\n  width: 2rem;\n  position: relative;\n}\n.svg-fill {\n  fill: currentColor;\n  stroke: none;\n}\n.svg-up {\n  /* default */\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n}\n.svg-right {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n.svg-down {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n.svg-left {\n  -webkit-transform: rotate(-90deg);\n          transform: rotate(-90deg);\n}\nbody {\n  /* Disables pull-to-refresh but allows overscroll glow effects. */\n  overscroll-behavior-y: contain;\n}\n#page {\n  height: 100vh;\n  overflow: hidden;\n  position: relative;\n}\n.fp-tableCell {\n  position: relative;\n}\n#fp-nav ul li, .fp-slidesNav ul li {\n  margin: 7px 0px;\n}\n.fp-slidesNav {\n  position: absolute;\n  left: 50%;\n  top: 10px;\n  margin-left: 5px !important;\n  text-align: center;\n}\n.fixer-class /deep/ .swiper-container {\n  z-index: 1 !important;\n}\n.shelf-2 {\n  background-color: green;\n}\n.shelf-content-1 {\n  background-color: orange;\n}\n.shelf-content-2 {\n  background-color: purple;\n}\n.shelf-content img {\n  width: 100%;\n  height: auto;\n}\n.fp-slidesNav {\n  z-index: 10 !important;\n  direction: ltr;\n}\n.fp-slidesNav ul li a.active span {\n    height: 8px;\n    width: 8px;\n    background-color: #000000;\n    margin: -4px 0 0 -4px;\n}\n.fp-slidesNav ul li a span {\n    height: 7px;\n    width: 7px;\n    background-color: #f5f5f5;\n}\n#fp-nav ul li a span,\n.fp-slidesNav ul li a span {\n  height: 7px !important;\n  width: 7px !important;\n  background-color: #f5f5f5 !important;\n}\n#fp-nav ul li a.active span,\n.fp-slidesNav ul li a.active span,\n#fp-nav ul li:hover a.active span,\n.fp-slidesNav ul li:hover a.active span {\n  height: 8px !important;\n  width: 8px !important;\n  background-color: #000000 !important;\n  margin: -3px 0 0 -3px !important;\n}\n#fp-nav ul li a span,\n.fp-slidesNav ul li a span {\n  background: #fff;\n}\n.modal-fade-enter {\n  opacity: 0;\n}\n.modal-fade-enter-active {\n  transition: opacity .2s ease-in;\n}\n.modal-fade-enter-to {\n  opacity: 0.7;\n}\n.modal-fade-leave {\n  opacity: 0.7;\n}\n.modal-fade-leave-active {\n  transition: opacity .25s ease-out;\n}\n.modal-fade-leave-to {\n  opacity: 0;\n}\n",""])},445:function(n,e,t){"use strict";t.r(e);var o=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"page index-page"},[t("transition",{attrs:{name:"modal-fade"}},[n.showShelfInfo?t("shelf-info",{attrs:{info:n.shelfInfo,returns:n.returns,shipping:n.shippingDetails}}):n._e()],1),n._v(" "),n.hasShelves?t("feed",{class:{blur:n.showShelfInfo},attrs:{shelves:n.shelves}}):t("div",[n._v("No shelves available or store not available")]),n._v(" "),t("checkout-response")],1)};o._withStripped=!0;t(21);var r=t(1),i=t.n(r),s=t(15),a=t.n(s),c=t(307),l=t(104),u=t(305),d=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"checkout-response"},[t("transition",{attrs:{name:"slide-from-bottom"}},[n.show?t("div",{staticClass:"checkout-response__container"},[t("button",{staticClass:"btn--close",on:{click:n.close}},[t("icon",{attrs:{name:"close",original:!0,width:"14",height:"14"}})],1),n._v(" "),t("header",{staticClass:"header"},["error"===n.orderQuery?t("div",{staticClass:"icon-round icon--error"},[t("icon",{attrs:{name:"attention",width:"12",height:"12"}})],1):n._e(),n._v(" "),"success"===n.orderQuery?t("div",{staticClass:"icon-round icon--success"},[t("icon",{attrs:{name:"checkmark",width:"12",height:"12"}})],1):n._e(),n._v(" "),t("h2",{class:{success:"success"===n.orderQuery,error:"error"===n.orderQuery}},[n._v("\n\t\t\t\t\t"+n._s(n.title)+"\n\t\t\t\t")])]),n._v(" "),t("div",{staticClass:"checkout-response__message"},[n._v("\n\t\t\t\t"+n._s(n.message)+"\n\n\t\t\t\t"),n._v(" "),"success"===n.orderQuery?t("div",{staticClass:"checkout-response__message--success"},[t("div",{staticClass:"order-number"},[n._v("מספר הזמנה: "+n._s(n.orderNumber))]),n._v(" "),t("div",{staticClass:"success-image"},[t("icon",{attrs:{name:"gift",original:!0}})],1)]):n._e(),n._v(" "),"error"===n.orderQuery?t("div",{staticClass:"checkout-response__message--error"},[t("a",{attrs:{href:"tel:"+n.storePhone}},[n._v(n._s(n.storePhone))])]):n._e()])]):n._e()])],1)};d._withStripped=!0;t(44);var f=t(7),h=t.n(f),p=t(357),m={name:"checkout-response",components:{},props:{},data:function(){return{show:!1}},mounted:function(){var n=i()(regeneratorRuntime.mark(function n(){var e=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("error"===this.orderQuery&&setTimeout(function(){e.toggle()},1500),!("success"===this.orderQuery&&this.orderId&&this.orderEmail&&Object(p.a)(this.orderEmail))){n.next=6;break}return setTimeout(function(){e.toggle()},1500),n.next=5,this.$axios.$post("order/new-order-email",{to:this.orderEmail,orderId:this.orderId});case 5:this.lastPurchase&&this.trackPurchase(this.lastPurchase);case 6:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),computed:{orderEmail:function(){return h()(this.$route,"query.orderEmail",null)},orderId:function(){return h()(this.$route,"query.orderId",null)},orderNumber:function(){return"6700".concat(this.orderId)},orderQuery:function(){return this.$route.query.order},title:function(){if(this.storeName){if("success"===this.orderQuery)return"תודה שהזמנת ב - ".concat(this.storeName,"!");if("error"===this.orderQuery)return"העסקה נכשלה"}},storeName:function(){return h()(this.$store.state,"store.name",null)},storeSlug:function(){return h()(this.$store.state,"store.slug",null)},storePhone:function(){return h()(this.$store.state,"store.info.phone",null)},lastPurchase:function(){return h()(this.$store.state,"checkout.lastPurchase",null)},message:function(){if(this.orderQuery){if("success"===this.orderQuery)return"הזמנתך התקבלה בהצלחה והיא בדרך אליך. אישור ההזמנה ישלח אליך למייל ".concat(this.orderEmail);if("error"===this.orderQuery)return"כרטיס האשראי שלך לא חויב. אנא נסו שוב או צרו איתנו קשר לבירור נוסף ב-"}}},methods:{trackPurchase:function(n){if("undefined"!=typeof fbq&&fbq&&n){var e={content_category:this.storeSlug,content_ids:n.items.map(function(n){return n.variationId}),contents:n.items.map(function(n){return{id:n.variationId,quantity:n.quantity}}),content_name:"purchase",content_type:"product_group",currency:"₪"===n.currency?"ILS":n.currency,value:n.total};console.log("trackPurchase",e),fbq("track","Purchase",e)}},close:function(){this.$router.replace({query:{}}),this.toggle()},toggle:function(){this.show=!this.show}}},v=(t(410),t(6)),g=Object(v.a)(m,d,[],!1,null,"1a332717",null);g.options.__file="index.vue";var b=g.exports,y=(t(382),t(144),t(31)),x=(t(412),t(300)),w={components:{Feed:c.a,PageHeader:l.a,CheckoutResponse:b,ShelfInfo:u.a},layout:function(n){return n.app.isMobile?"mobile":"desktop"},mixins:[x.b],data:function(){return{assetsPerLoad:2,shelvesPerLoad:2,activeShelfIndex:0,isBuilding:!1,firstUpdate:!0,feedOptions:{sectionSelector:"section",excludedClasses:["att"],scrollDirection:"down"},prevClientY:null,clientHeight:null,snapObject:null}},computed:a()({hasShelves:function(){return this.$store.state.store.shelves&&this.$store.state.store.shelves.length>0},showShelfInfo:function(){return this.$store.state.showShelfInfo},shelfInfo:function(){var n=this.$store.state.currentShelfIndex;return this.$store.state.store.shelves[n].info},shippingDetails:function(){return this.$store.state.store.shippingDetails},returns:function(){return this.$store.state.store.returns}},Object(y.b)({shelves:function(n){return n.store.shelves}})),watch:{},created:function(){},mounted:function(){var n=i()(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),methods:{onScroll:function(){console.log("yoo")}}},_=(t(413),Object(v.a)(w,o,[],!1,null,null,null));_.options.__file="index_bak.vue";e.default=_.exports}}]);